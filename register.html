<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/register.styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <link rel="icon" href="../images/logo.png" type="image/x-icon">
    <link rel="shortcut icon" href="path/to/logo.ico" type="image/x-icon">
    <title>DriveSure</title>
</head>
<body>
    <header class="bg-light p-3">
        <nav class="navbar navbar-expand-lg navbar-light container">
            <a class="navbar-brand" href="#">DriveSure</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.php">Login</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="container mt-4">
        <div class="vehicle-form">
            <form id="vehicleRegistrationForm" method="POST" action="includes/register.inc.php" enctype="multipart/form-data">
                <input type="hidden" name="vehicleType" id="vehicleType" value="">

                <div class="f1 mb-4">
                    <h3 id="formTitle"></h3>
                    <hr class="mb-3">

                    <div class="mb-3">
                        <label for="VRN" class="form-label">Vehicle Registration Number</label>
                        <input type="text" class="form-control" id="VRN" name="regNum" placeholder="ABC - 6458" required>
                        <div class="invalid-feedback">Please enter your vehicle registration number.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Model" class="form-label">Model</label>
                        <input type="text" class="form-control" id="Model" name="Model" placeholder="Toyota / Yamaha / Bajaj / Tata" required>
                        <div class="invalid-feedback">Please enter the vehicle model.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Year" class="form-label">Year of Manufacture</label>
                        <input type="text" class="form-control" id="Year" name="YOM" placeholder="Year" required>
                        <div class="invalid-feedback">Please enter the year of manufacture.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Type" class="form-label">Body Type</label>
                        <input type="text" class="form-control" id="Type" name="bodyType" placeholder="Hatchback / Standard / Bajaj RE / Flat Beds" required>
                        <div class="invalid-feedback">Please enter the body type.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Chassis" class="form-label">Chassis Number</label>
                        <input type="text" class="form-control" id="Chassis" name="ChassisNumber" placeholder="Chassis Number" required>
                        <div class="invalid-feedback">Please enter the chassis number.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Capacity" class="form-label">Engine Capacity</label>
                        <input type="number" class="form-control" id="Capacity" name="EngineCapacity" placeholder="200 / 500 / 1000 / 1500 / 1800 / 2500" required>
                        <div class="invalid-feedback">Please enter the engine capacity.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Milage" class="form-label">Mileage</label>
                        <input type="number" class="form-control" id="Milage" name="Milage" placeholder="Mileage" required>
                        <div class="invalid-feedback">Please enter the mileage.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Coverage" class="form-label">Coverage</label>
                        <select class="form-select" name="coverage" id="Coverage" required>
                            <option value="">Select Coverage</option>
                            <option value="Full Option">Full Option</option>
                            <option value="Third Party">Third Party</option>
                        </select>
                        <div class="invalid-feedback">Please select the coverage type.</div>
                    </div>

                    <div class="mb-3">
                        <label for="Duration" class="form-label">Time Duration</label>
                        <select class="form-select" name="time_duration" id="Duration" required>
                            <option value="">Select Duration</option>
                            <option value="Six Months">6 Months</option>
                            <option value="One Year">1 Year</option>
                        </select>
                        <div class="invalid-feedback">Please select the time duration.</div>
                    </div>
                </div>

                <div class="f2 mb-4">
                    <h3>Upload Documents</h3>
                    <hr class="mb-3">
                    <div class="mb-3">
                        <label for="Vehicle Book" class="form-label">Vehicle Book</label>
                        <input type="file" class="form-control" id="VehicleBook" name="vehical_book_src" class="file-upload" required>
                        <div class="invalid-feedback">Please upload the vehicle book.</div>
                    </div>
                    <div class="mb-3">
                        <label for="RevenueLiscence" class="form-label">Revenue Licence</label>
                        <input type="file" class="form-control" id="RevenueLiscence" name="revenue_liscence_src" class="file-upload" required>
                        <div class="invalid-feedback">Please upload the revenue license.</div>
                    </div>
                    <div class="mb-3">
                        <label for="NICPhoto" class="form-label">NIC Photo</label>
                        <input type="file" class="form-control" id="NICPhoto" name="nic_src" class="file-upload" required>
                        <div class="invalid-feedback">Please upload a photo of your NIC.</div>
                    </div>
                </div>

                <button type="reset" class="btn btn-secondary">Clear Form</button>
                <button type="submit" class="btn btn-primary" name="save_details">Get a Quote</button>
            </form>
        </div>
    </div>

    <footer class="bg-light py-3 mt-5 text-center">
        <p>&copy; 2025 DriveSure. All rights reserved.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            // Get the topic from the URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const topic = urlParams.get('topic');

            // Set the hidden input value and the form title based on the topic
            if (topic === 'car') {
                $('#vehicleType').val('car');
                $('#formTitle').text('Insure your car');
            } else if (topic === 'motorcycle') {
                $('#vehicleType').val('motorcycle');
                $('#formTitle').text('Insure your motorcycle');
            } else if (topic === 'three-wheeler') {
                $('#vehicleType').val('three-wheeler');
                $('#formTitle').text('Insure your three-wheeler');
            } else if (topic === 'commercial-vehicle') {
                $('#vehicleType').val('commercial-vehicle');
                $('#formTitle').text('Insure your commercial vehicle');
            } else {
                // Handle cases where the topic is not valid or missing
                $('#formTitle').text('Vehicle Insurance Details');
                $('#vehicleType').val('none');
            }

            // Basic client-side validation using Bootstrap's built-in features
            $('#vehicleRegistrationForm').on('submit', function(event) {
                if (!this.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                $(this).addClass('was-validated');
            });
        });
    </script>
</body>
</html>